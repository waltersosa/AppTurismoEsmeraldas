<div
  class="relative flex size-full min-h-screen flex-col bg-white justify-between group/design-root overflow-x-hidden"
  style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
>
  <div>
    <!-- Header con botón de volver -->
    <div class="flex items-center bg-white p-4 pb-2 justify-between">
      <button 
        (click)="returnHome()" 
        class="p-2 text-[#131614] focus:outline-none hover:bg-[#f1f3f2] rounded-full transition-colors"
        aria-label="Volver a inicio"
      >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
          <path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <h2 class="text-[#131614] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">Notificaciones</h2>
      <div class="w-10"></div> <!-- Espaciador para centrar el título -->
    </div>

    <!-- Contenido principal -->
    <div class="flex-1 px-4 py-2">
      <!-- Indicador de carga -->
      <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-12">
        <div class="w-8 h-8 border-2 border-[#ceeddd] border-t-transparent rounded-full animate-spin mb-4"></div>
        <p class="text-[#6b8075] text-sm">Cargando notificaciones...</p>
      </div>

      <!-- Estado vacío -->
      <div *ngIf="!isLoading && (!notificaciones || notificaciones.length === 0)" class="flex flex-col items-center justify-center py-12">
        <div class="w-16 h-16 bg-[#f1f3f2] rounded-full flex items-center justify-center mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24" class="text-[#6b8075]">
            <path d="M12 2a6 6 0 0 0-6 6v4.586l-1.707 1.707A1 1 0 0 0 5 16h14a1 1 0 0 0 .707-1.707L18 12.586V8a6 6 0 0 0-6-6zm0 18a2.99 2.99 0 0 1-2.83-2h5.66a2.99 2.99 0 0 1-2.83 2z" />
          </svg>
        </div>
        <h3 class="text-[#131614] text-lg font-bold mb-2">No hay notificaciones</h3>
        <p class="text-[#6b8075] text-sm text-center">Todavía no tienes notificaciones. Te avisaremos cuando lleguen nuevas.</p>
      </div>

      <!-- Lista de notificaciones -->
      <div *ngIf="!isLoading && notificaciones && notificaciones.length > 0" class="space-y-3">
        <div 
          *ngFor="let noti of notificaciones; trackBy: trackByNotificacion" 
          class="bg-white border border-[#e5e7eb] rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer"
          [class.opacity-75]="noti.leida"
          (click)="marcarComoLeida(noti)"
        >
          <!-- Header de la notificación -->
          <div class="flex items-start justify-between mb-2">
            <div class="flex-1">
              <h4 class="text-[#131614] font-bold text-base leading-tight mb-1">
                {{ noti.titulo }}
              </h4>
              <p class="text-[#6b8075] text-xs">
                {{ formatearFecha(noti.fecha) }}
              </p>
            </div>
            <div class="flex items-center space-x-2">
              <!-- Indicador de no leída -->
              <div *ngIf="!noti.leida" class="w-2 h-2 bg-[#ceeddd] rounded-full"></div>
              <!-- Icono de notificación -->
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 24 24" class="text-[#6b8075]">
                <path d="M12 2a6 6 0 0 0-6 6v4.586l-1.707 1.707A1 1 0 0 0 5 16h14a1 1 0 0 0 .707-1.707L18 12.586V8a6 6 0 0 0-6-6zm0 18a2.99 2.99 0 0 1-2.83-2h5.66a2.99 2.99 0 0 1-2.83 2z" />
              </svg>
            </div>
          </div>
          
          <!-- Contenido de la notificación -->
          <p class="text-[#131614] text-sm leading-relaxed">
            {{ noti.mensaje }}
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer con menú inferior -->
  <div>
    <app-menu-inferior></app-menu-inferior>
  </div>
</div>